# sidebar-mixed-nav å¸ƒå±€ä¿®å¤ - ç¬¬äºŒæ¬¡ä¿®å¤

## æ–°å‘ç°çš„é—®é¢˜

åœ¨ç¬¬ä¸€æ¬¡ä¿®å¤åï¼Œå‡ºç°äº†æ–°çš„å¸ƒå±€é”™è¯¯ï¼š

### é—®é¢˜æˆªå›¾åˆ†æ
ä»ç”¨æˆ·æä¾›çš„æˆªå›¾å¯ä»¥çœ‹åˆ°ï¼š
1. âŒ Header åŒºåŸŸå‡ºç°å¤§çš„é»‘è‰²ç©ºç™½ï¼ˆçº¢æ¡†æ ‡æ³¨ï¼‰
2. âŒ Logo å’Œ "Sentinel Admin" æ–‡å­—æ²¡æœ‰æ­£ç¡®æ˜¾ç¤º
3. âŒ æ•´ä½“å¸ƒå±€ä¸¥é‡é”™ä¹±

### æ ¹æœ¬åŸå› 

**é—®é¢˜ 1: Header width è®¡ç®—é”™è¯¯**

```typescript
// âŒ é”™è¯¯çš„è®¡ç®—æ–¹å¼
style={{
  marginLeft: 272,
  width: `calc(100% - 272px)`  // é”™è¯¯ï¼
}}
```

**åˆ†æï¼š**
- å¤–å±‚å®¹å™¨ï¼š`left: 0, right: 0`ï¼ˆå…¨å®½ 100%ï¼‰
- å†…å±‚ Headerï¼š`marginLeft: 272px, width: calc(100% - 272px)`
- **é—®é¢˜ï¼š** `marginLeft` å·²ç»å°†å…ƒç´ å‘å³æ¨äº† 272pxï¼Œå†è®¾ç½® `width: calc(100% - 272px)` å¯¼è‡´æ€»å®½åº¦è¶…å‡º
- **ç»“æœï¼š** å‡ºç°å¤§çš„ç©ºç™½åŒºåŸŸ + å¸ƒå±€é”™ä¹±

**æ­£ç¡®çš„ç†è§£ï¼š**
```
å¤–å±‚å®¹å™¨å®½åº¦: 100vw (viewport width)
Header marginLeft: 272px
Header å®é™…å¯ç”¨å®½åº¦: 100vw - 272px
```

å½“å…ƒç´ æœ‰ `marginLeft` æ—¶ï¼Œå®ƒä¼šä»å®¹å™¨å·¦è¾¹ç•Œå‘å³åç§»ã€‚å¦‚æœå®¹å™¨æ˜¯å…¨å®½çš„ï¼Œå…ƒç´ çš„å®½åº¦åº”è¯¥æ˜¯ï¼š
```
width = å®¹å™¨å®½åº¦ - marginLeft
width = 100% - 272px  âœ… æ­£ç¡®
```

ä½†å¦‚æœå†™æˆï¼š
```
width = calc(100% - 272px)  
ä¸” marginLeft = 272px
```
å®é™…æ¸²æŸ“å®½åº¦ = marginLeft + width = 272px + (100% - 272px) = 100% + 272px - 272px = 100%
ä½†å› ä¸ºæœ‰ marginLeftï¼Œå…ƒç´ èµ·å§‹ä½ç½®åœ¨ 272pxï¼Œæ‰€ä»¥ä¼šæº¢å‡ºã€‚

**é—®é¢˜ 2: æ–‡å­—é¢œè‰²é”™è¯¯**

```tsx
// âŒ é”™è¯¯ï¼šæµ…è‰²æ¨¡å¼ä¸‹ç™½è‰²æ–‡å­—ä¸å¯è§
<span className="text-white">Sentinel Admin</span>
```

åœ¨æµ…è‰²èƒŒæ™¯ `#fafafa` ä¸Šæ˜¾ç¤ºç™½è‰²æ–‡å­—ï¼Œå¯¼è‡´ä¸å¯è§ã€‚

## ä¿®å¤æ–¹æ¡ˆ

### 1. ç®€åŒ– Header width è®¡ç®—

**LayoutHeader.tsx ä¿®å¤ï¼š**

```typescript
// âœ… ä¿®å¤åï¼šç®€åŒ–è®¡ç®—
style={{
  marginLeft: headerMarginLeft,
  width: `calc(100% - ${headerMarginLeft}px)`,  // å§‹ç»ˆä½¿ç”¨è¿™ä¸ªå…¬å¼
}}
```

**åŸç†ï¼š**
- å¤–å±‚å®¹å™¨æ˜¯ `fixed, left: 0, right: 0`ï¼ˆå…¨å®½ï¼‰
- Header é€šè¿‡ `marginLeft` å‘å³åç§»
- Header çš„ `width` åº”è¯¥æ˜¯ `100% - marginLeft`ï¼Œè¿™æ ·æ­£å¥½å¡«æ»¡å‰©ä½™ç©ºé—´

**ä¹‹å‰çš„é”™è¯¯ä»£ç ï¼š**
```typescript
width: (showSidebar || isSidebarMixedNav) && !app.isMobile 
  ? `calc(100% - ${headerMarginLeft}px)` 
  : '100%'
```

è¿™ä¸ªæ¡ä»¶åˆ¤æ–­æ˜¯ä¸å¿…è¦çš„ã€‚æ— è®ºä»€ä¹ˆæ¨¡å¼ï¼Œå…¬å¼éƒ½åº”è¯¥æ˜¯ `calc(100% - ${headerMarginLeft}px)`ï¼Œå› ä¸ºï¼š
- å½“ `headerMarginLeft = 0` æ—¶ï¼Œ`calc(100% - 0px) = 100%`
- å½“ `headerMarginLeft = 272` æ—¶ï¼Œ`calc(100% - 272px)` æ­£ç¡®

### 2. ä¿®å¤æ–‡å­—é¢œè‰²

**MainLayout.tsx ä¿®å¤ï¼š**

```tsx
// âœ… ä¿®å¤åï¼šæ ¹æ®ä¸»é¢˜åŠ¨æ€è®¾ç½®é¢œè‰²
<span className={`font-semibold text-base tracking-wide whitespace-nowrap truncate ${isDarkMode ? 'text-white' : 'text-foreground'}`}>
  Sentinel Admin
</span>
```

- æš—è‰²æ¨¡å¼ï¼š`text-white`
- æµ…è‰²æ¨¡å¼ï¼š`text-foreground`ï¼ˆé»‘è‰²/æ·±è‰²æ–‡å­—ï¼‰

## ä¿®å¤åçš„æ­£ç¡®å¸ƒå±€

### sidebar-mixed-nav æ¨¡å¼

```
è§†å£å®½åº¦: 1920px (ç¤ºä¾‹)

â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Logo â”‚ Sentinel â”‚  Header                                  â”‚
â”‚  S   â”‚  Admin   â”‚  [é¢åŒ…å±‘] [å·¥å…·æ ] [ç”¨æˆ·]                  â”‚
â”‚      â”‚          â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ   â”‚  é¦–é¡µ     â”‚                                          â”‚
â”‚      â”‚          â”‚                                          â”‚
â”‚  ğŸ‘¤  â”‚  ç”¨æˆ·ä¸­å¿ƒ  â”‚         Content Area                     â”‚
â”‚      â”‚  ç”¨æˆ·åˆ—è¡¨  â”‚                                          â”‚
â”‚      â”‚  è§’è‰²æƒé™  â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  72px   200px     <-- marginLeft: 272px
                   <-- width: calc(100% - 272px) = 1648px
```

**è®¡ç®—éªŒè¯ï¼š**
- å·¦åˆ—å®½åº¦ï¼š72px
- å³åˆ—å®½åº¦ï¼š200px
- æ€»ä¾§è¾¹æ å®½åº¦ï¼š272px
- Header marginLeftï¼š272px
- Header widthï¼š`calc(100% - 272px)` = `calc(1920px - 272px)` = 1648px
- å¸ƒå±€æ€»å®½åº¦ï¼š272px + 1648px = 1920px âœ… æ­£ç¡®

## ç›¸å…³ä¿®æ”¹

### æ–‡ä»¶ï¼šLayoutHeader.tsx
```typescript
// ç¬¬ 182-186 è¡Œ
style={{
  ...headerStyles,
  marginLeft: headerMarginLeft,
  width: `calc(100% - ${headerMarginLeft}px)`,  // âœ… ç®€åŒ–
}}
```

### æ–‡ä»¶ï¼šMainLayout.tsx
```tsx
// ç¬¬ 531 è¡Œ
<span className={`... ${isDarkMode ? 'text-white' : 'text-foreground'}`}>
  Sentinel Admin
</span>
```

## CSS å¸ƒå±€åŸç†æ€»ç»“

### å›ºå®šå®šä½å…ƒç´ çš„å®½åº¦è®¡ç®—

å¯¹äº `position: fixed` çš„å…ƒç´ ï¼š

**åœºæ™¯ 1ï¼šæ— åç§»**
```css
.element {
  left: 0;
  right: 0;
  /* width è‡ªåŠ¨ä¸º 100% */
}
```

**åœºæ™¯ 2ï¼šæœ‰å·¦åç§»**
```css
.element {
  left: 0;           /* å®¹å™¨ä»å·¦è¾¹ç•Œå¼€å§‹ */
  right: 0;          /* å®¹å™¨åˆ°å³è¾¹ç•Œ */
  margin-left: 272px; /* å†…éƒ¨å…ƒç´ å‘å³æ¨ */
}

.inner {
  margin-left: 272px;
  width: calc(100% - 272px); /* æ­£ç¡®ï¼šå‰©ä½™å®½åº¦ */
}
```

**é”™è¯¯å†™æ³•ï¼š**
```css
.inner {
  margin-left: 272px;
  width: 100%;  /* é”™è¯¯ï¼šä¼šæº¢å‡º 272px */
}
```

### å…³é”®ç‚¹

1. **å®¹å™¨å®½åº¦ â‰  å…ƒç´ å¯ç”¨å®½åº¦**
   - å®¹å™¨ï¼š`fixed, left: 0, right: 0` â†’ 100%
   - å…ƒç´ ï¼šæœ‰ `marginLeft` â†’ å¯ç”¨å®½åº¦ = 100% - marginLeft

2. **margin ä¼šå ç”¨ç©ºé—´**
   - `marginLeft` å°†å…ƒç´ å‘å³æ¨
   - å…ƒç´ çš„å®½åº¦éœ€è¦ç›¸åº”å‡å°‘

3. **ç®€åŒ–å…¬å¼**
   - ç»Ÿä¸€ä½¿ç”¨ï¼š`width: calc(100% - ${marginLeft}px)`
   - å½“ marginLeft = 0 æ—¶ï¼Œè‡ªåŠ¨å˜ä¸º 100%

## æµ‹è¯•éªŒè¯

### éªŒè¯æ­¥éª¤

1. **ç¡¬åˆ·æ–°æµè§ˆå™¨**ï¼ˆCtrl+Shift+Rï¼‰
2. **åˆ‡æ¢åˆ° sidebar-mixed-nav æ¨¡å¼**
3. **æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š**

#### Header åŒºåŸŸ
- âœ… Header ä» 272px å¼€å§‹ï¼ˆå·¦ä¾§ä¸ºåŒåˆ—ä¾§è¾¹æ ï¼‰
- âœ… æ— é»‘è‰²ç©ºç™½åŒºåŸŸ
- âœ… å®½åº¦æ­£ç¡®ï¼Œä¸æº¢å‡º

#### åŒåˆ—ä¾§è¾¹æ 
- âœ… å·¦åˆ— 72pxï¼šLogo å›¾æ ‡ + ä¸€çº§èœå•å›¾æ ‡
- âœ… å³åˆ— 200pxï¼š"Sentinel Admin" æ–‡å­— + äºŒçº§èœå•
- âœ… æ–‡å­—é¢œè‰²å¯è§ï¼ˆæµ…è‰²æ¨¡å¼æ·±è‰²æ–‡å­—ï¼Œæš—è‰²æ¨¡å¼ç™½è‰²æ–‡å­—ï¼‰

#### å†…å®¹åŒºåŸŸ
- âœ… ä» 272px å¼€å§‹
- âœ… ä¸è¢«ä¾§è¾¹æ é®æŒ¡

### æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥

```javascript
// åœ¨æ§åˆ¶å°è¿è¡Œ
const header = document.querySelector('header');
console.log('Header marginLeft:', getComputedStyle(header).marginLeft);
console.log('Header width:', getComputedStyle(header).width);
console.log('Header offsetLeft:', header.offsetLeft);
console.log('Header offsetWidth:', header.offsetWidth);

// é¢„æœŸç»“æœï¼ˆ1920px å®½å±ï¼‰
// marginLeft: "272px"
// width: "1648px"  (1920 - 272)
// offsetLeft: 272
// offsetWidth: 1648
```

## æ€»ç»“

### ä¿®å¤å‰
- âŒ Header width è®¡ç®—å¤æ‚ï¼Œæœ‰æ¡ä»¶åˆ¤æ–­
- âŒ å‡ºç°å¤§çš„ç©ºç™½åŒºåŸŸ
- âŒ æ–‡å­—é¢œè‰²å›ºå®šä¸ºç™½è‰²ï¼Œæµ…è‰²æ¨¡å¼ä¸å¯è§

### ä¿®å¤å
- âœ… Header width è®¡ç®—ç®€åŒ–ï¼šç»Ÿä¸€å…¬å¼
- âœ… å¸ƒå±€æ­£ç¡®ï¼Œæ— ç©ºç™½
- âœ… æ–‡å­—é¢œè‰²æ ¹æ®ä¸»é¢˜åŠ¨æ€åˆ‡æ¢

### ç»éªŒæ•™è®­

1. **CSS å¸ƒå±€è¦ç†è§£åŸç†**
   - margin å ç”¨ç©ºé—´
   - width éœ€è¦é…åˆ margin è®¡ç®—

2. **ç®€åŒ–ä¼˜äºå¤æ‚**
   - ç»Ÿä¸€çš„å…¬å¼æ¯”æ¡ä»¶åˆ¤æ–­æ›´å¯é 
   - `calc(100% - ${marginLeft}px)` é€‚ç”¨æ‰€æœ‰æƒ…å†µ

3. **é¢œè‰²è¦è€ƒè™‘ä¸»é¢˜**
   - ä¸è¦ç¡¬ç¼–ç é¢œè‰²
   - ä½¿ç”¨æ¡ä»¶ç±»åæˆ– CSS å˜é‡

---

**æ›´æ–°æ—¶é—´ï¼š** 2026-01-15  
**ä¿®å¤ç±»å‹ï¼š** å¸ƒå±€å®½åº¦è®¡ç®—å’Œæ–‡å­—é¢œè‰²  
**å½±å“èŒƒå›´ï¼š** sidebar-mixed-nav æ¨¡å¼
